<div ng-if="isLoaded">
    <ocs-intro-section meta="meta.pageHeaderSaved"></ocs-intro-section>
    <ocs-401 meta="meta" msgheader="379089" msgbody="379090"></ocs-401>

    <div ng-if="$root.isAuthenticated">
        <div class="alert alert-info" tabindex="0">
            {{:preResolved:$root.msg(157204)}} 
            <strong>{{occupationsCount}}</strong> 
            {{:preResolved:$root.msg(104616)}} 
            <strong>{{maxOccupationsCount}}</strong> 
            {{:preResolved:$root.msg(364205)}}
        </div>

        <div class="list display-table">
            <div class="list-item display-table-row list-last hover-none">
                <div class="list-col-main display-table-cell vertical-align-middle">
                    <div class="list-body">
                        <p>{{$root.msg(372175)}}</p>
                    </div>
                </div>
                <div class="list-col-actions display-table-cell vertical-align-middle">
                    <div class="list-body">
                        <div class="list-item-actions text-right">
                            <div class="btn-group" role="group" aria-label="" ng-show="occupations.length > 1">
                                <button ng-click="compare()" ng-disabled="!countSelected(modelTemp)" class="btn btn-primary minw120">{{msg(364212)}}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr class="hr-short" />

        <div class="list display-table">
            <div class="list-item display-table-row" ng-repeat="occ in occupations" ng-class="{'list-last':$last}">
                <div class="list-col-main display-table-cell vertical-align-middle pt16 pb16">
                    <div class="list-body">
                        <div class="header-actions">
                            <h3 class="list-item-heading">
                                <a ng-href="/occupations/career-detail/{{tokenize(occ.title)}}-id-{{occ.code}}">{{occ.title}}</a>
                            </h3>
                        </div>
                    </div>
                    <!--<hr class="hr-short" ng-if="!$last"/>-->
                </div>
                <div class="list-col-actions display-table-cell vertical-align-middle pt16 pb16">
                    <div class="list-body">
                        <div class="list-item-actions text-right">
                            <a role="button" ng-click="delete(occ.code)" class="btn btn-link btn-xs">{{msg(157926)}}</a>
                            <label for="cbx_{{occ.code}}"
                                   ng-show="occupations.length > 1"
                                   ng-disabled="modelTemp[$index] ? false : countSelected(modelTemp)"
                                   ng-class="modelTemp[$index] ? 'btn-done' : 'btn-add'"
                                   class="btn btn-xs pull-right minw120 ml10">
                                <input id="cbx_{{occ.code}}"
                                       type="checkbox"
                                       ng-click="toggleSelection(occ.code)"
                                       ng-model="modelTemp[$index]"
                                       value="{{occ.code}}"
                                       ng-change="change()"
                                       ng-true-value="true"
                                       ng-false-value="false"
                                       class="sr-only"
                                       ng-disabled="modelTemp[$index] ? false : countSelected(modelTemp)" />
                                <span ng-show="!modelTemp[$index]">{{msg(364213)}}</span>
                                <span ng-show="modelTemp[$index]">{{msg(348880)}}</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="myModalContent.html">
    <div class="modal-header">
        <h3 class="modal-title">{{msg(365751)}}</h3>
    </div>
    <div class="modal-body">
        <h4>{{msg(364196)}}</h4>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ok()">{{msg(315145)}}</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">{{msg(162574)}}</button>
    </div>
</script>

