<ng-form name='singleItemForm' novalidate>
    <div class='form-group' ng-class="{'has-error': !(singleItemForm.$pristine || singleItemForm.$valid), 'form-group-sm': formSize === 'sm'}">
        <label for='{{::elementId}}' class="display-block">
            <span ng-show="meta.required">
                <small class="fa fa-asterisk required-asterisk"></small>
            </span>
            {{:preResolved:meta.label.lookUpMsg.value}}

            <span ng-show="{{meta.help}}" class="ng-hide">
                <a href="" class="helpIcon" popover-trigger="focus" title="{{:preResolved:meta.help.title.lookUpMsg.value}}"
                   uib-popover-template="'popOverActivities-4.html'" popover-title="{{:preResolved:meta.help.title.lookUpMsg.text}}">[?]</a>
                <script type="text/ng-template" id="popOverActivities-4.html">
                    <p ng-bind-html=":preResolved:(meta.help.content.lookUpMsg.text | unsafe)"></p>
                </script>
            </span>

            <span class="small pull-right" ng-if="::meta.counter">
                {{model.length > 0 ? model.length : 0}}&nbsp;{{:preResolved:meta.of.lookUpMsg.value}}&nbsp;{{meta.max}}
            </span>
        </label>

       

        <!--
            ui-mask='{{mask}}'
            ui-mask-placeholder
        -->
        <textarea class='form-control'
                  data-ng-model='model' 
                  id='{{::elementId}}'
                  rows="{{::meta.rows}}"
                  placeholder='{{:preResolved:meta.placeholder.lookUpMsg.value}}'
                  MaxLength='{{::meta.max}}'
                  type='{{::meta.type}}'
                  ng-required='{{meta.required}}'
                  ng-model-options="{ updateOn: 'default', debounce: { 'default': 200, 'blur': 0 } }"
                  ng-disabled="::meta.disabled" />
                

        <span class="ng-hide error-message" ng-show="!singleItemForm.$pristine">
            <!-- field level validation -->
            <span ng-show='singleItemForm.$dirty && singleItemForm.$invalid'>
                <span ng-show='singleItemForm.$error.required'>{{:preResolved:meta.error.required.lookUpMsg.value}}</span>
            </span>
            <!-- mask level validation -->
            <span ng-show='singleItemForm.$error.mask[0].$invalid'>
                <span>{{:preResolved:meta.error.mask.lookUpMsg.value}}</span>
            </span>
        </span>
        <span class="error-message" ng-hide="meta.hideErrorHolder" ng-if="singleItemForm.$pristine || singleItemForm.$valid">&nbsp;</span>
    </div>
</ng-form>
